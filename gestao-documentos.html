<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style-autos.css">
    <link rel="icon" href="imgs/icon redondo logo.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Gestão de Documentos</title>
</head>
<body>
  <div class="container">
    <!--Cria uma barra de navegação usando as classes do Bootstrap para estilização.-->
       <nav class="navbar navbar-expand-lg navbar-light bg-transparent">
         
         <!--Link para a página principal com um logotipo dentro da barra de navegação.-->
         <a class="navbar-brand" href="principal.html"><img src="imgs/logo principal.png" alt=""></a>
         
         <!-- Botão de alternância para telas menores (usado em dispositivos móveis), mostrando e ocultando itens do menu de navegação.-->
         <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
           <span class="navbar-toggler-icon"></span>
         </button>
         
         <!--Define a área do menu de navegação que pode ser colapsada.-->
         <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
           
           <!--Lista não ordenada que contém os itens do menu de navegação.-->
           <ul class="navbar-nav">
             <!-- Itens de menu que têm a capacidade de exibir um menu suspenso (dropdown) ao serem clicados.-->
             <li class="nav-item">
               <a class="nav-link" href="#">
                 Agenda
               </a>
             </li>
   
   
             <li class="nav-item dropdown">
               <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Gestão
               </a>
               <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                 <a class="dropdown-item" href="gestao-clientes.html">Gestão Clientes</a>
                 <a class="dropdown-item" href="gestao-documentos.html">Gestão Documentos</a>
                 <a class="dropdown-item" href="gestao-autos.html">Gestão Autos</a>
                 <a class="dropdown-item" href="gestao-financeira.html">Gestão Financeira</a>
               </div>
             </li>
   
             <li class="nav-item dropdown">
               <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Relatórios
               </a>
               <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                 <a class="dropdown-item" href="#">Relatórios de Casos</a>
                 <a class="dropdown-item" href="#">Relatórios Financeiros</a>
                 <a class="dropdown-item" href="#">Relatórios de Atividades</a>
                 <a class="dropdown-item" href="#">Relatórios de Clientes</a>
               </div>
             </li>
   
             <li class="nav-item dropdown">
               <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Biblioteca Jurídica
               </a>
               <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                 <a class="dropdown-item" href="#">Jurisprudência</a>
                 <a class="dropdown-item" href="#">Consulta processual</a>
               </div>
             </li>
   
             <li class="nav-item">
               <a class="nav-link" href="#">
                   <img src="imgs/icone-usuario.png" alt="Ícone de Usuário" class="img-fluid rounded-circle" style="max-width: 35px;">
               </a>
             </li>
             
           </ul>
         </div>
       </nav>
  </div>

  <main>
    <div class="header">
      <h2>Documentos</h2>
      <div class="selecao">
        <input type="text" id="inputPesquisa" placeholder="Pesquisar por nome...">
      </div>
      <div class="selecao">
        <input type="checkbox" id="selecionarTodos">
        <label for="selecionarTodos">Selecionar Todos</label>
      </div>
    </div>
    
    
    <div class="legenda-container">
      <div class="legenda" style="margin-top: 0;">
        <div class="info">
          <span id="totalCount">0</span>
          <p>Total</p>
        </div>
        <div class="info">
          <span id="rascunhoCount" style="color:red">0</span>
          <p>Rascunho</p>
        </div>
        <div class="info">
          <span id="enviadoCount" style="color: #DFA510;">0</span>
          <p>Enviado</p>
        </div>
        <div class="info">
          <span id="assinadoCount" style="color: green;">0</span>
          <p>Assinado</p>
        </div>
      </div>
    </div>
    
  </main>


  <div class="table-container">
    <div class="table-responsive">
      <table class="table">
            <thead>
                <tr>
                    <th></th>
                    <th>Nome do documento</th>
                    <th>Recebedor</th>
                    <th>Data de Criação</th>
                    <th>Status</th>
                    <th>Modificação</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                  <td><input type="checkbox" class="select-checkbox"></td>
                  <td>Documento 1</td>
                  <td>Jonathan</td>
                  <td>23/05/2020</td>
                  <td>Rascunho</td>
                  <td>24/06/2020</td>
                  <td><button><img src="/public/images/group.png" alt=""></button></td>
                  <td><button><img src="/public/images/vector.png" alt=""></button></td>
                </tr>
                <tr>
                  <td><input type="checkbox" class="select-checkbox"></td>
                  <td>Documento 2</td>
                  <td>Maria</td>
                  <td>27/08/2020</td>
                  <td>Enviado</td>
                  <td>29/09/2020</td>
                  <td><button><img src="/public/images/group.png" alt=""></button></td>
                  <td><button><img src="/public/images/vector.png" alt=""></button></td>
                </tr>
                <tr>
                  <td><input type="checkbox" class="select-checkbox"></td>
                  <td>Documento 3</td>
                  <td>Joãozinho</td>
                  <td>15/07/2020</td>
                  <td>Assinado</td>
                  <td>22/08/2020</td>
                  <td><button><img src="/public/images/group.png" alt=""></button></td>
                  <td><button><img src="/public/images/vector.png" alt=""></button></td>
                </tr>
                <tr>
                  <td><input type="checkbox" class="select-checkbox"></td>
                  <td>Documento 4</td>
                  <td>Ana</td>
                  <td>20/06/2020</td>
                  <td>Assinado</td>
                  <td>25/07/2020</td>
                  <td><button><img src="/public/images/group.png" alt=""></button></td>
                  <td><button><img src="/public/images/vector.png" alt=""></button></td>
                </tr>
            </tbody>
        </table>
    </div>
  </div>
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Seu código JavaScript aqui
      document.getElementById("inputPesquisa").addEventListener("input", function () {
        let filtro = this.value.toLowerCase().trim(); // Convertendo o texto para minúsculas e removendo espaços extras
        let linhas = document.querySelectorAll(".table tbody tr");
  
        linhas.forEach(function (linha) {
          let nomeDocumento = linha.querySelector("td:nth-child(2)").textContent.toLowerCase(); // Obtendo o texto do nome do documento
          if (nomeDocumento.includes(filtro)) {
            linha.style.display = "table-row";
          } else {
            linha.style.display = "none";
          }
        });
      });

        document.getElementById("inputPesquisa").addEventListener("input", function() {
            // Função para filtrar a tabela
            let filtro = this.value.toLowerCase();
            let linhas = document.querySelectorAll(".table tbody tr");

            linhas.forEach(function(linha) {
                let texto = linha.textContent.toLowerCase();
                if (texto.includes(filtro)) {
                    linha.style.display = "table-row";
                } else {
                    linha.style.display = "none";
                }
            });
        });

        document.getElementById("selecionarTodos").addEventListener("change", function () {
          const checkboxes = document.querySelectorAll(".select-checkbox");
          checkboxes.forEach(function (checkbox) {
              checkbox.checked = this.checked;
          }, this);
      });

      function calcularTotalDocumentos() {
        const linhas = document.querySelectorAll(".table tbody tr");
        let rascunhoCount = 0;
        let enviadoCount = 0;
        let assinadoCount = 0;
  
        linhas.forEach(function (linha) {
          const status = linha.querySelector("td:nth-child(5)").textContent.toLowerCase();
  
          if (status === "rascunho") {
            rascunhoCount++;
          } else if (status === "enviado") {
            enviadoCount++;
          } else if (status === "assinado") {
            assinadoCount++;
          }
        });
  
        document.getElementById('totalCount').textContent = linhas.length;
        document.getElementById('rascunhoCount').textContent = rascunhoCount;
        document.getElementById('enviadoCount').textContent = enviadoCount;
        document.getElementById('assinadoCount').textContent = assinadoCount;
      }
  
      calcularTotalDocumentos();
  
      document.getElementById("inputPesquisa").addEventListener("input", function () {
        calcularTotalDocumentos();
      });
  
      document.getElementById("selecionarTodos").addEventListener("change", function () {
        calcularTotalDocumentos();
      });
    });
</script>
</body>
</body>
</html>